<head>
  <title>OpenBAS</title>
</head>

<body>
  {{> navbar}}
</body>

<template name="navbar">
  <div class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">OpenBAS</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="{{activeIf 'home'}}"><a href="{{pathFor 'home'}}">Home</a></li>
      </ul>
      <ul class="nav navbar-nav">
        <li class="{{activeIf 'about'}}"><a href="{{pathFor 'about'}}">About</a></li>
      </ul>
      <ul class="nav navbar-nav">
        <li class="{{activeIf 'points'}}"><a href="{{pathFor 'points'}}">Points</a></li>
      </ul>
      <ul class="nav navbar-nav">
        <li class="{{activeIf 'actuators'}}"><a href="{{pathFor 'actuators'}}">Actuators</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        {{> loginButtons }} 
      </ul>
    </div>
  </div>
</template>

<template name="home">
  <h1>Hello World!</h1>
  {{greeting}}
  <input type="button" value="Click" />
</template>

<template name="about">
  <h1>About!</h1>
</template>

<template name="points">
  <div id="outer">
    <div class="point">
      <span class="Path">Path</span>
      <span class="value">value</span>
      <span class="actuator">ActuatorPath</span>
    </div>
    {{#each pointsAll}}
      {{> point_row}}
    {{/each}}
  </div>
</template>

<template name="point_row">
  <div class="point">
    <span class="Path">
      <a href="{{ pathFor 'pointDetail'}}">
        {{Path}}
      </a>
    </span>
    <span class="value">{{value}}</span>
    <span class="actuator">{{ActuatorPath}}</span>
  </div>
</template>

<template name="actuators">
  <table class="table table-bordered" id="actuators">
    <thead>
      <tr>
        <th>Path</th>
        <th>ActuatorUUID</th>
        <th>Value</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      {{# each actuatorsAll}}
        {{> actuator_display}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="actuator_display">
  <tr>
    <td>{{Path}}</td>
    <td>{{ActuatorUUID}}</td>
    <td>{{value}}</td>
    {{#if isDiscrete}}
      <td>{{> actuator_discrete}}</td>
    {{else}} {{#if isContinuous}}
      <td>{{> actuator_continuous}}</td>
    {{else}}
      <td>{{> actuator_binary}}</td>
    {{/if}}{{/if}}
  </tr>
</template>

<template name="actuator_discrete">
  <select class="form-control">
    <option value="heat">Heat</option>
    <option value="cool">Cool</option>
    <option value="off">Off</option>
  </select>
</template>

<template name="actuator_continuous">
  <input id="{{ActuatorUUID}}" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="{{value}}"/>
</template>

<template name="actuator_binary">
<a href="#" id="{{ActuatorUUID}}" class="button button-3d-caution button-small">Binary Actuator</a><br>
</template>
